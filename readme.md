# 프로젝트: SV Meta Analyzer

> [ 🎯 데이터를 기반으로 사용자가 '표준 덱'을 구축하도록 돕는 자동화 분석기 구현 프로젝트입니다.]

---

## 1. 문제 정의

* Shadowverse 유저들은 메타를 참고할 때, 수십 개의 '덱 리스트'를 보게 됩니다.
* 하지만 이 리스트들은 '개인의 취향'이 반영되어, 어떤 카드가 필수이고 어떤 카드가 선택인지 많은 자료와 경험을 통해 판단해야 하는 '피로도'가 있습니다.

## 2. 해결책

이 프로젝트는 '감'이 아닌 '수학적 통계'로 이 문제의 해결책을 제시합니다.

1.  `Selenium`을 사용해 JavaScript로 동적 로딩되는 '[svlabo](https://svlabo.jp/)' 사이트의 포스트 목록을 여러 페이지에 걸쳐 가져옵니다.
2.  사용자가 분석하고 싶은 포스트와 덱 타입을 선택하면, 해당 페이지의 '사용 카드 정보'를 자동 추출합니다.
3.  각 덱의 날짜, 레이팅 등을 조합한 **통합 가중치**를 사용하여 데이터를 분석하고, 각 카드의 '평균 사용량'을 계산합니다.
4.  분석 결과를 웹 페이지의 **인터랙티브 테이블**에 표시합니다. 사용자는 이 테이블에서 다음과 같은 작업을 수행할 수 있습니다.
    *   **결과 정렬:** 테이블 헤더를 클릭하여 원하는 기준으로 데이터를 정렬합니다.
    *   **동적 덱 편집:** `+/-` 버튼을 눌러 특정 카드의 매수를 조절하면, 덱의 총 매수가 40장으로 유지되도록 통계적으로 가장 안정적인 다른 카드의 매수가 자동으로 조절됩니다.
    *   **변경사항 추적:** 최초 추천안과 달라진 카드의 행은 색상으로 표시되어 변경 내역을 쉽게 확인할 수 있습니다.
5.  **덱 url 생성 및 복사:** 편집이 완료된 덱은 '덱 url 복사' 버튼을 통해 게임에서 즉시 사용할 수 있는 **덱 공유 URL**로 변환되어 클립보드에 복사됩니다.

## 3. 핵심 기술

*   **Language:** `Python`
*   **Web Framework:** `Flask`
*   **Web Scraper:** `Selenium`, `BeautifulSoup4`
*   **Data Analysis:** `Numpy`



## 4. 다음 단계


*   **웹 서비스 배포:** `Google App Engine`을 사용하여 다른 사용자들도 이용할 수 있는 웹 서비스 형태로 배포합니다.

## 5. 변경 내역

### v0.3 (2025-11-08)
*   **포스트 목록 확장 기능 구현:**
    *   `svlabo.jp` 사이트의 페이지네이션(Pagination)을 분석하여 여러 페이지에 걸쳐 포스트를 수집하는 기능을 구현했습니다.
    *   수집된 전체 포스트 목록을 드롭다운 메뉴에 표시하도록 UI를 업데이트했습니다.
*   **덱 커스터마이징 및 공유 기능 고도화:**
    *   카드 이름과 ID를 매핑하는 `card_database.json`을 구축하고, 이를 기반으로 `shadowverse-wb.com`에서 사용 가능한 덱 코드 URL을 생성하는 백엔드 API를 구현했습니다.
    *   덱 이름에서 클래스 정보를 동적으로 추출하여, 생성되는 덱 공유 URL에 해당 클래스 ID가 반영되도록 수정했습니다.
    *   생성된 덱 url을 사용자의 클립보드에 복사하는 기능을 추가했습니다.

### v0.2 (2025-11-07)
*   **고급 데이터 분석 및 인터랙티브 UI 구현:**
    *   레이팅, 연승, 일반 포스트 등 다양한 형태의 게시물을 모두 안정적으로 분석할 수 있도록 데이터 파싱 로직을 전면 재작성하고 검증했습니다.
    *   날짜와 레이팅을 조합한 통합 가중치 시스템을 도입하여 분석 정확도를 높였습니다.
    *   결과 테이블 정렬 기능 및 동적 덱 편집 기능을 구현하여 사용자 인터랙션을 강화했습니다.
    *   덱 편집 시 변경사항을 쉽게 인지할 수 있도록 UI 피드백(하이라이트)을 추가했습니다.

### v0.1 (2025-11-06)
*   **동적 포스트 선택 기능 구현:**
    *   `svlabo.jp`의 포스트 목록을 동적으로 크롤링하여 사용자가 직접 분석할 대상을 선택할 수 있도록 개선했습니다.
    *   선택에 따라 덱 목록과 분석 결과가 연동되는 동적 UI를 구현했습니다.
*   **성능 및 안정성 개선:**
    *   매 요청마다 브라우저를 새로 생성하던 구조를, 단일 드라이버 인스턴스를 재사용하도록 변경하여 응답 속도를 개선했습니다.
    *   `try...finally` 구문을 사용하여 프로그램 종료 시 드라이버가 안정적으로 종료되도록 수정했습니다.
*   **버그 수정:**
    *   가중치 데이터가 없는 포스트에서 발생하던 'divide by zero' 오류를 수정했습니다.
